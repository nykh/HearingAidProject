#How to Get Started on the development

[TOC]

## Required System Platforms
- Windows 7-8. Have not tested on Windows 10.
- USB Driver
- **TM4C123XL** board

## Set up toolchain
### Softwares to download
- [Code Composer Studio](http://www.ti.com/tool/ccstudio)
- [Tivaâ„¢ C Series LaunchPad Evaluation Board Software](http://www.ti.com/tool/sw-ek-tm4c123gxl) (*Tivaware*) for Code Composer Studio
- [Startup.css.c file for LM3s1968](https://raw.githubusercontent.com/omedjaouri/EE319K/master/Lab%201/ccs/startup_ccsValvanoWare.c) by *omedjaouri*
- 

### Step-by-Step Guide

#### Install software packages
1. Install ICDI Driver according to Dr. Valvano's guide. [For Windows 7](http://users.ece.utexas.edu/~valvano/edX/InstallDrivers7.htm) or [Windows 8](http://users.ece.utexas.edu/%7Evalvano/edX/InstallDrivers8.htm)
2. Install **TI Code Composer Studio** v6.x (subsequently **CCS**)
3. Install **TivaWare for Code Composer Studio**

The resulting resources is something like `TivaWare_C_Series-1.1/driverlib...usblib...inc...example`

#### Set up the example folders
Launch **CCS**, when prompted with location for workspace, name it something like `example`. Then import the projects under `${TIVA_ROOT}/examples/boards/ek-tm4c123gxl` to the workspace. There are many useful examples.

#### Build driverlib
In order to make many examples compile correctly, it is necessary to build the `driverlib.lib` into correct location. Import `${TIVA_ROOT}/driverlib/` project into workspace, but **DON'T copy the projects into workspace** especially since we want to build the library in place.

After the library project is imported. You can inspect the **Project property** and set the device to appropriate source (In our case the **TM4C123GPM** variant), as shown in Screencap 1. Build with the correct setting and a proper `driverlib.lib` file will appear under `Debug/` folder.

@[Screencap 1]()

#### Set up a new project
Select `New CCS Project`, in the menu that appears select the correct **target**, `Tiva TM4C123GH6PM`, **connection** `Stellaris ICDI`,  and give it a proper name. **CCS** will tend to supply a `main.c` for you but you don't have to use it.

#### Necessary settings for sucessful compilation
Open Project Setting and follow the following advices.

##### Build
Go to the `Variable` tab and add the following variable

> Variable name: **TIVA_ROOT**

> Type:          "Directory"

> Value:         Select the root folder of TivaWare_C_Series-1.1

##### Build -> ARM Compiler -> Include Option
Add entry `"${TIVA_ROOT}"`, which will expand to the Tivaware root folder. This will allow you to write:

```c
#include "inc/some_header.h"
#include "driverlib/driver.h"
```
etc.

##### Build -> ARM Linker -> File Search Path
**Add < dir > to File Search Path**: Add `"${TIVA_ROOT}\driverlib\ccs\Debug"`, which is the location we have built the `driverlib.lib` previously.

**Include library file**: Add `"driverlib.lib"`

At this point the empty project should compile, however, there is one more step to take so that Valvano's code can function.

#### Modify the `startup_css.c`
Sometimes an error will occur where the compiler complains about unable to resolve bad symbols like `EndCritical`, `EnableInterrupt`, etc. This is because in Valvano's original `startup.s` file these "useful functions" were supplied, but not in a startup.c automatically generated by **CCS**. Therefore we add the functions as implemented in the file provided by Dr. Valvano avaialbe [on this GitHub repo](https://github.com/omedjaouri/EE319K/tree/master/Lab%201/ccs) belonging to **omedjaouri**.

I have adapted the startup.c file to **TM4C123XL** availabe in this repo under [Project_CCS](https://github.com/nykh/HearingAidProject/tree/master/Projects_CCS) folder





